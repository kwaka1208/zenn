---
title: ゲームオーバーの処理を作ろう
---
プレイヤーのHPがゼロになったら、ゲームオーバーになる処理を作ります。ゲームオーバーの時には、以下の動作になるようにします。

1. ゲームオーバーであることがわかる表示にして操作ができないようにする。
2. 敵キャラも動かさないようにする。
3. スコアを表示する。
4. 続けるかどうかの確認を表示して、Yを押したら最初から続ける、Nを押したら終了するようにする。
5. ウインドうを閉じた時も終了するようにする。

## プログラム全体
[こちらをクリックすると別ウインドウでオリジナルのソースコードが表示できます](https://github.com/kwaka1208/resources/blob/main/pygame/game10.py)

## 前回からの変更箇所
前回からの変更箇所は以下の通りです。

### ゲームオーバーの表示処理を追加しよう
> 全体プログラムの29〜38行目です。

ゲームオーバーの表示処理を行う関数を追加します。関数でなくてもいいのですが、関数にして処理を分けた方がひとつの流れを短くできるからです。

![](/images/python/pygame/10/01.png)

## ゲームオーバーの判定と表示、敵がプレイヤーにあたったかどうかを判定しよう
> プログラムの159〜189行目です。

HPがゼロになった時にゲームオーバーの表示処理を行う関数(game_over)を呼び出します。この画面でキーやマウスの操作を可能として、Yが押されたらもう一度最初から、Nが押されるかウインドうが閉じられたら終了するようにします。

![](/images/python/pygame/10/02.png)

## プログラムを入力しよう
1. 前回作成した"game.py"を開きます。
1. 前回からの変更部分を"game.py"に追加していきましょう。
1. 入力したら保存します。保存の操作は、ChromebookとWindowsの方は"Ctrl" + "S"、Macの方は"Command" + "S"です。プログラムの保存は最後にまとめてやるのではなく、ある程度入力したら保存するの方が良いです。もし入力途中でトラブルが起こったらせっかく入力したプログラムが消えてしまう可能性があります。

## 実行してみよう
<<<<<<< HEAD
プログラムの入力ができたら、プログラムを実行してみましょう。
=======
プログラムの入力ができたら、プログラムを実行してます。以下の手順を参考にしてください。

### Chromebookの方
1. ターミナルを起動します。
1. cd pygameと入力してEnterキーを押します。
1. python3 game.pyと入力してEnterキーを押します。

### Windowsの方
1. コマンドプロンプトを起動します。
1. cd Documentsと入力してEnterキーを押します。
1. cd pygameと入力してEnterキーを押します。
1. python game.pyと入力してEnterキーを押します。

### Macの方
1. ターミナルを起動します。
1. cd Documentsと入力してEnterキーを押します。
1. cd pygameと入力してEnterキーを押します。
1. python3 game.pyと入力してEnterキーを押します。



>>>>>>> 03f1854fa2b2c27eae6704ccf77922a545fed8a2
