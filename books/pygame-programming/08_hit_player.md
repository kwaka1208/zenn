---
title: プレイヤーの当たり判定を作ろう
---
プレイヤーに敵キャラクターにが当たったかどうかを判定し、当たった時の処理を追加します。

## プログラム全体
[こちらをクリックすると別ウインドウでオリジナルのソースコードが表示できます](https://github.com/kwaka1208/resources/blob/main/pygame/game08.py){:target="_blank"}

## 前回からの変更箇所
前回からの変更箇所は以下の通りです。

### プレイヤーに敵が当たった時の処理を追加しよう
> 全体プログラムの5〜20行目です。
プログラムの一番最初にプレイヤーに敵が当たった時の処理を関数として追加します。

この関数には判定処理は含まれていません。判定した結果、キャラクターを左右に反転する処理を10回繰り返す処理だけが含まれています。

## 敵がプレイヤーにあたったかどうかを判定しよう
> プログラムの117〜126行目です。
プレイヤーキャラに敵キャラがあたったかどうかを判定し、当たった当たった時の処理関数(player_damage)を呼び出します。

関数は呼び出しよりも前に書かれていないといけないので、プログラムの一番最初に書いています。

## プログラムを入力しよう
1. 前回作成した"game.py"を開きます。
1. 前回からの変更部分を"game.py"に追加していきましょう。
1. 入力したら保存します。保存の操作は、ChromebookとWindowsの方は"Ctrl" + "S"、Macの方は"Command" + "S"です。プログラムの保存は最後にまとめてやるのではなく、ある程度入力したら保存するの方が良いです。もし入力途中でトラブルが起こったらせっかく入力したプログラムが消えてしまう可能性があります。

## 実行してみよう
プログラムの入力ができたら、プログラムを実行してます。以下の手順を参考にしてください。

### Chromebookの方
1. ターミナルを起動します。
1. cd okeikoと入力してEnterキーを押します。
1. python3 game.pyと入力してEnterキーを押します。

### Windowsの方
1. コマンドプロンプトを起動します。
1. cd Documentsと入力してEnterキーを押します。
1. cd okeikoと入力してEnterキーを押します。
1. python game.pyと入力してEnterキーを押します。

### Macの方
1. ターミナルを起動します。
1. cd Documentsと入力してEnterキーを押します。
1. cd okeikoと入力してEnterキーを押します。
1. python3 game.pyと入力してEnterキーを押します。

## 試してみよう
- wait関数の中の数字を変えてみて、動きがどう変わるか試してみましょう。


