---
title: コンピュータが扱いやすいデータ形式を知る
---
## JSONデータについて
JSON（ジェイソン）とはインターネット上で情報をやり取りするためのデータの形式です。現在は、多くのインターネットサービスで使われている形式です。

正式な名前は"JavaScript Object Notation"（ジャバスクリプト オブジェクト ノーテーション）ですが、長いので頭文字を取ってJSON（ジェイソン）と呼んでいます。

---

## 郵便番号APIのデータ形式はJSON
今回利用している郵便番号APIのデータ形式がJSONです。このようなデータが返されてきますが、これではわかりにくいので人間が読む時は改行を入れて整形します。

> {"code":"1000001","data":[{"prefcode":"13","ja":{"prefecture":"東京都","address1":"千代田区","address2":"千代田","address3":"","address4":""},"en":{"prefecture":"Tokyo","address1":"Chiyoda-ku","address2":"Chiyoda","address3":"","address4":""}}]}

---

改行を入れるとこのようになります。まだまだ記号が多く読みにくいですが、それでも元のデータよりもかなり読みやすくなりました。住所のデータが入っていることはわかるようになったと思います。

```
{
    "code": "1000001",
    "data": [
        {
            "prefcode": "13",
            "ja": {
                "prefecture": "東京都",
                "address1": "千代田区",
                "address2": "千代田",
                "address3": "",
                "address4": ""
            },
            "en": {
                "prefecture": "Tokyo",
                "address1": "Chiyoda-ku",
                "address2": "Chiyoda",
                "address3": "",
                "address4": ""
            }
        }
    ]
}
```
よく見ると赤枠のところに郵便番号が、青枠のところに日本語の住所、緑枠のところに英語の住所が入っていることがわかります。
つまり、このAPIでは住所を日本語と英語の両方で取得できることがわかります。

![](/images/python/webapi/02.png)

---


## JSONデータの読み方
JSONデータは、キーと呼ばれるデータの名前と値の組み合わせでできています。変数に名前がついていて、変数の中に値が入っているのと同じだと考えてください。

```
{
 "キー": 値,
}
```

たとえば、東京の気温情報を表現する場合は以下のようになります。

```
{
 "都道府県": "東京",
 "気温": 28.6
}
```
都道府県の情報として"東京"が、気温の情報として28.6がはいっています。JSONの場合も文字列は""で囲みますが、数値は囲みません。

これが大阪だとこうなります。値のところが変わるだけですね。
```
{
 "都道府県": "大阪",
 "気温": 31.2
}
```

東京と大阪、両方のデータを表現する場合はこのようにします。

1. 両方のデータの集まりにキー（名前）をつけます、ここでは"tenki"としました。
2. 次に東京と大阪のデータをつなげて[ ]で囲みます。
3. コンピュータの世界ではほとんどの場合、順番が0から始まるので"tenki"という名前の情報の0番目が東京の情報で、1つ目が大阪の情報という意味になります。

"tenki"情報の0番目の都道府県の値は大阪
"tenki"情報の1番目の都道府県の値は大阪

```
{
	"tenki": [{
			"都道府県": "東京",
			"気温": 28.6
		},
		{
			"都道府県": "大阪",
			"気温": 31.2
		}
	]
}
```





## サンプルで見るJSONデータ
もっと簡単なデータを用意しましたので、こちらでJSONデータの読み方を確認していきましょう。

これはあるお店の果物の商品情報です。3種類の果物の在庫数と価格が書かれています。

|名前|在庫数|価格|
|:--:|:--:|:--:|
|りんご|50|100|
|みかん|75|200|
|バナナ|90|150|

表形式は人間にはわかりやすいのですが、コンピュータにはわかりにくいので、これをJSON形式で表すとこのようになります。

```
{
    "果物":  [
        {"名前": "りんご", "在庫数": 50, "価格": 100},
        {"名前": "みかん", "在庫数": 75, "価格": 200},
        {"名前": "バナナ", "在庫数": 90, "価格": 150}
    ]
}
```

このデータからは次のことがわかります。
- 果物の0番目の名前は"りんご"で在庫数は50個で、1個100円
- 果物の1番目の名前は"みかん"で在庫数は75個で、1個200円
- 果物の2番目の名前は"バナナ"で在庫数は90個で、1個150円

コンピュータは人間のように柔軟にデータを取り扱うことができません。決まったルールに沿って

## 最後に

ここではわかりやすいように日本語で書きましたが、プログラミングの世界では、半角のアルファベットや数字を使うので、以下のようにすることが多いです。

```
{
    "fruit":  [
        {"name": "りんご", "stock": 50, "price": 100},
        {"name": "みかん", "stock": 75, "price": 200},
        {"name": "バナナ", "stock": 90, "price": 150}
    ]
}
```