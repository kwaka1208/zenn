---
title: 郵便番号を入力しよう
---
これまでは、郵便番号を指定するたびにプログラムを修正していましたが、プログラムを修正することなく、郵便番号を入力できるようにしましょう。
ここでは、以下の変更を行なっていきます。

1. 郵便番号を入れる変数を作ります。
1. APIの郵便番号の部分をxxx/yyyyに変えます。
1. 郵便番号の上3桁を入力し、変数に入れます。
1. 郵便番号の下4桁を入力し、変数に入れます。
1. 郵便番号の数字をそれぞれAPIの郵便番号と入れ替えるようにします。

## APIのURLを変更する
APIのURLの郵便番号の部分をxxxとyyyyに変えます。これらがあとで郵便番号を入れる時の場所になります。

```
あとで情報を差し替えるために仮の情報を入れておくことを、プレースホルダといいます。
```
![](/images/python/webapi/06-01.png)

### 郵便番号を入れる変数を作る
左側のメニューの"Variables"から郵便番号を入れるための変数を作ります。ここでは郵便番号の上3桁を入れる変数を"postal1"、下4桁を入れる変数を"postal2"として作成しています。

![](/images/python/webapi/06-02.png)
![](/images/python/webapi/06-03.png)

## 郵便番号を入力する
次に文字列を入力するinputブ関数を使って郵便番号を入力し、変数に入れる処理を作ります。inputブ関数のカッコの中には、入力する際に表示するメッセージを入れます。

![](/images/python/webapi/06-04.png)

## 郵便番号をAPIのURLに入れる
変数に入った郵便番号をAPIのURLに入れていきます。replace関数では、置き換える対象の文字列と置き換え後の文字列を指定すると、その箇所にある文字列を置き換えます。

ここでは、"xxx"を変数postal1の内容（郵便番号の上3桁）に、"yyyy"を変数postal2の内容（郵便番号の下4桁）に置き換えています。

![](/images/python/webapi/06-05.png)

これで、入力された郵便番号でAPIにアクセスするプログラムが完成しました。

## 実行してみよう
これれらの一連の処理をまとめると、以下のようになります。この状態で実行してみましょう。

![](/images/python/webapi/06-06.png)

### サンプルプログラム
ここで作成したプログラムは以下のリンクから開けます。
[郵便番号を入力できるプログラム](https://app.edublocks.org/project/C07T9nfaVWeZkZj3D6DF7vZPGlM2/MiteMLLjAa2fqPczeIi6)