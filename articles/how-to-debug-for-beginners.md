---
title: プログラミング初心者のための試行錯誤ではないデバッグ
emoji: "👩🏻‍💻"
type: idea
topics: [プログラミング,初心者,デバッグ]
published: false
---
## はじめに
PCひとつあれば自分の作りたいものを自由に作れるプログラミングは楽しいものですが、いざ実行となると期待通りには動かないもの。ここから辛いデバッグの時間が始まります。

いわゆるプログラミング教育の文脈ではなぜか「デバッグ = 試行錯誤」と捉えられていることがあり、辛抱強く取り組む忍耐強さを身につけるのに有用という謎理論が展開されることもあります。辛いことを経験することが学びにつながるという考え方はまだまだ根強くあるようです。

しかし、デバッグというのは試行錯誤ではありません。もし職業プログラマーが試行錯誤だけでデバッグをやっていたら職業人としては失格。仮にそれで動いたとしても、そのプログラムは信頼性が低いものになってしまいます。

ここでは試行錯誤に陥らない、プログラミング初心者のためのデバッグのポイントについて案内していきます。

## バグとは？
そもそもバグとはなにか？ということからお話していきましょう。ここでは人間にたとえてみます。


あなたは今、外出先（学校とか会社とか）にいます。家に帰ろうとしている時、家族からメッセージがきました。そのメッセージには「帰りにパン屋さんで食パンと牛乳を買ってきて」と書かれていました。

これをプログラミングにたとえると以下のようになります。

- あなた：コンピュータ
- メッセージ：プログラム
- 家族：プログラマー

つまり、あなたは家族にプログラミングされたロボットのようなものだとイメージしてください。当然ですが、メッセージの内容に間違いがあればあなたは家族の期待した通りにうまく動くことができません。これがバグです。

![](/images/how-to-debug-for-beginners/bread_panya.png)

### a. メッセージが「帰りにパン屋さんで食パンと牛乳をってきて」だった時
このメッセージでは「買」という文字が抜けているので、何をすればよいかわかりません。あなたがコンピュータだとすると、どうしていいのかわからないのでここでエラーが発生して止まってしまいます。

これはいわゆる文法エラーというエラーで、プログラム（メッセージ）が正しく入力されていないことによって発生する不具合です。

もちろん、本来のあなたは人間なのでこれがおかしいと気づいたら、文章の意味を読み取って「買ってきて」という意味だと理解できるかもしれませんし、メッセージに返信して正しい内容を送り直してもらうこともできると思います。

しかし、コンピュータは指示された通りにしか動かないので指示内容がわからないとその時点でエラーが発生してしまうのです、ここが人間とコンピュータの違いです。

### b. メッセージが「帰りにパン屋さんで食パンと牛乳をとってきて」だった時
このメッセージの内容をそのまま受け取ると、パン屋さんに言って食パンと牛乳を取ってくることになります。意味としては正しいです、パン屋さんにいってお店にある食パンと牛乳をとってくることはできます。なので、あなた（コンピュータ）はこの指示通りに行動することができます。

しかし、パン屋さんでお金を払わずに食パンと牛乳をとってきたら泥棒ですよね。プログラムは動くけれど、その動作は正しくありません。これもバグです。

同じく、本来のあなたは人間なのでここでおかしいと気づけるはずです。まさか、本当にパン屋さんでお金を払わずに食パンと牛乳を取ってくることはないでしょう。でも、コンピュータはそうしてしまうのです。

### c. メッセージが「帰りにパン屋さんでパンと牛乳を買ってきて」だった時
このメッセージを受け取った時には、家族が食パンを買ってきて欲しいのだということがわからないので、あなたは自分の好きなパン、食べたいパンを買ってくるかもしれません。もちろん、家族は食パンを買ってきて欲しいと思っているので、あなたが買ってきたパンは家族の期待とは違います。これもまたバグのひとつです。

さすがにここまでバグってしまう（間違ってしまう）と人間のあなたでも察することはできないでしょう。

### これらがバグです
ここで示したものがプログラムのバグです。プログラムが正しく動作しないケースとしては以下の通り2つに分類されます。

1. コンピュータがプログラムの意味を理解できない（aのケースがこれにあたります）
2. コンピュータはプログラムの意味を理解できるけれど、意味が正しく伝えられていない（bとcがこれにあたります）

1のバグはエラーメッセージが表示されるのでまだわかりやすいのですが、2のバグは原因を見つけるのが難しいことがあります。

---

もし、ここまでを読んで「牛乳を1つ買ってきてちょうだい。卵があったら6つお願い」の話を思い出したなら、あなたは十分ベテランのプログラマーのはずなので、ここから先を読む必要はないかもしれません。

それって何？という方は[こちらの記事](https://togetter.com/li/1734345)を読んでみてください。

## バグを修正しよう
### あなたが写経段階なら
プログラミングの世界には写経という言葉があります。これは、他の人が作ったプログラムを見ながら打ち込むことで、プログラミング初学者はここから入ることも多いかと思います。

もしあなたが、まだプログラミングを始めたばかりで、写経をしている段階だったら、まずは元のソースコードを読み返すことをしっかりやっていきましょう。元のソースコードと見比べることで、自分がどこを間違えたのかを見つけることができるはずですし、それ以上のことはできないかもしれません。

私もプログラミングを始めたばかりの頃は写経でした。当時はスマートフォンはもちろんインターネットもなく、無料アプリのダウンロードなんて影も形もありません。なので、アプリ（ソフトウェア）を手に入れるには買うか自分で作る、もしくは本に載っているものを自分で入力するしかなかったのです（当時はプログラムのソースコードが掲載された本がたくさんありました）。

でも、それを繰り返しているうちにパターンが見えるようになってきました。こんな動作を作りたい時にはこう作ればいいというのが分かるようになってきたのです。それからは、自分の持っている機種に合わせてプログラムを変更（移植といいます）することもできるようになりました。当時はメーカーによって少しずつ言語仕様が違っていたのです。

余談が長くなりました、写経をしている段階なら、まずは元のソースコードと見比べることををお勧めします。

### エラーメッセージを読みましょう
プログラムを実行した結果エラーメッセージが表示された場合（上に書いた例でいうとaのケースのようなバグです）まずはエラーメッセージを読みましょう。エラーメッセージはプログラムがどこでどのようなエラーを起こしているのかを教えてくれるものです。プログラムの何行目でどんな問題が発生しているのかを教えてくれます。まずはこれを読まないことには話になりません。

しかし、プログラミング初心者はエラーメッセージを読まずに「動きません、なぜでしょう」と私に言ってくることもよくあります。いえいえ、私にだってわかりません。まずはエラーメッセージを読んでください。エラーメッセージがポップアップウインドウ（ダイアログ）で表示された時、反射的に閉じてしまう人も珍しくはありません。エラーメッセージを読むのが怖いのでしょうか。

確かにエラーメッセージは英語で表示されることが多いし、専門用語も多いので読むのが難しいかもしれません、プログラミング初心者には難しすぎる、気持ちはわかります。でも、それを読まないことには話にならないのです。エラーメッセージをコピーしてGoogleで検索するだけでも原因が分かるかもしれません。

一番多いのは"Syntax Error"というやつです、上の例でいうと「帰りにパン屋さんで食パンと牛乳をってきて」みたいなやつです。
日本語でいうと文法エラーですが原因は単なる打ち間違いであることがほとんどです。Syntax Errorが出たらまずはエラーが発生した行に入力ミスがないか確認しましょう。

ただ、ちょっとやっかいなのは必ずしもエラーメッセージで示された行に間違いがあるとは限らないことです。別の行の間違いのせいでその次の行でエラーが発生していることもあります。これは特定のケースでのみ発生しますが、これが分かるようになるには経験が必要です。

### エラーメッセージがなかったら
エラーメッセージが出ない時というのは「コンピュータはプログラムの意味を理解できるけれど、意味が正しく伝えられていない」時ですね。これはかなりやっかいです。デバッグで苦しむほとんどのケースはこちらです。

#### まずは思い当たるところを考えてみましょう
まず最初に思い当たるところがないか考えてみましょう。正しい動作をしていない箇所、表示なのか入力なのかデータの保存なのか、それによってどこが関係していいそうかのおおよその見当がつくはずです。

もしかすると、その中に「ちょっと自信がないところ」「よくわからないけど、ネットで見つけたコードを貼り付けただけのところ」があったら、真っ先にそこを確認しましょう。手を抜いたところはほぼ確実にバグが発生します。自分のプログラムでわからないところがちゃんと動いているなんてことはないのです。

#### 発生条件を絞り込みましょう
つぎに発生条件を絞り込みましょう。100%発生するならわかりやすいのですが、たまにしか発生しない場合は原因を見つけるのが難しいです。たまにしか発生しない場合は、その条件を再現するための手順を考えてみましょう。たとえば、特定の操作の時だけ発生するのかもしれません、時間かもしれない、データの中身かもしれませんし、それらの組み合わせかもしれません。

どういう時に正しく動作しないのか？を

#### ソースコードを読み返そう



#### 原因が思いあたったら

## まとめ

